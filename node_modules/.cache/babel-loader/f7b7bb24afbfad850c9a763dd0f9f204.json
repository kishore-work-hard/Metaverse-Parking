{"ast":null,"code":"var _jsxFileName = \"F:\\\\elvicto\\\\REPO\\\\meta-dev\\\\minecraft-react\\\\src\\\\components\\\\Cube.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo } from 'react';\nimport { useBox } from '@react-three/cannon';\nimport { useState } from 'react';\nimport * as textures from '../textures';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cube = _ref => {\n  _s();\n\n  let {\n    position,\n    texture,\n    addCube,\n    removeCube\n  } = _ref;\n  const [hover, setHover] = useState(null);\n  const [ref] = useBox(() => ({\n    type: 'Static',\n    position\n  }));\n  const color = texture === 'glass' ? 'skyblue' : 'white';\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    castShadow: true,\n    ref: ref,\n    onPointerMove: e => {\n      e.stopPropagation();\n      setHover(Math.floor(e.faceIndex / 2));\n    },\n    onPointerOut: () => {\n      setHover(null);\n    },\n    onClick: e => {\n      e.stopPropagation();\n      const clickedFace = Math.floor(e.faceIndex / 2);\n      const {\n        x,\n        y,\n        z\n      } = ref.current.position;\n\n      if (clickedFace === 0) {\n        e.altKey ? removeCube(x, y, z) : addCube(x + 1, y, z);\n        return;\n      }\n\n      if (clickedFace === 1) {\n        e.altKey ? removeCube(x, y, z) : addCube(x - 1, y, z);\n        return;\n      }\n\n      if (clickedFace === 2) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y + 1, z);\n        return;\n      }\n\n      if (clickedFace === 3) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y - 1, z);\n        return;\n      }\n\n      if (clickedFace === 4) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y, z + 1);\n        return;\n      }\n\n      if (clickedFace === 5) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y, z - 1);\n        return;\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"boxBufferGeometry\", {\n      attach: \"geometry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), ' ', /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attach: \"material\",\n      map: textures[texture],\n      color: hover != null ? 'gray' : color,\n      opacity: texture === 'glass' ? 0.7 : 1,\n      transparent: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cube, \"tuWkMEjcu9wnnychvevDTZ4TJ6A=\", false, function () {\n  return [useBox];\n});\n\n_c = Cube;\n\nfunction equalProps(prevProps, nextProps) {\n  const equalPosition = prevProps.position.x === nextProps.position.x && prevProps.position.y === nextProps.position.y && prevProps.position.z === nextProps.position.z;\n  return equalPosition && prevProps.texture === nextProps.texture;\n}\n\nexport default _c2 = /*#__PURE__*/memo(Cube, equalProps);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Cube\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useBox","useState","textures","Cube","position","texture","addCube","removeCube","hover","setHover","ref","type","color","e","stopPropagation","Math","floor","faceIndex","clickedFace","x","y","z","current","altKey","equalProps","prevProps","nextProps","equalPosition"],"sources":["F:/elvicto/REPO/meta-dev/minecraft-react/src/components/Cube.js"],"sourcesContent":["import React, { memo } from 'react';\r\nimport { useBox } from '@react-three/cannon';\r\nimport { useState } from 'react';\r\nimport * as textures from '../textures';\r\n\r\nconst Cube = ({ position, texture, addCube, removeCube }) => {\r\n  const [hover, setHover] = useState(null);\r\n\r\n  const [ref] = useBox(() => ({\r\n    type: 'Static',\r\n    position,\r\n  }));\r\n\r\n  const color = texture === 'glass' ? 'skyblue' : 'white';\r\n  return (\r\n    <mesh\r\n      castShadow\r\n      ref={ref}\r\n      onPointerMove={(e) => {\r\n        e.stopPropagation();\r\n        setHover(Math.floor(e.faceIndex / 2));\r\n      }}\r\n      onPointerOut={() => {\r\n        setHover(null);\r\n      }}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        const clickedFace = Math.floor(e.faceIndex / 2);\r\n        const { x, y, z } = ref.current.position;\r\n        if (clickedFace === 0) {\r\n          e.altKey ? removeCube(x, y, z) : addCube(x + 1, y, z);\r\n          return;\r\n        }\r\n        if (clickedFace === 1) {\r\n          e.altKey ? removeCube(x, y, z) : addCube(x - 1, y, z);\r\n          return;\r\n        }\r\n        if (clickedFace === 2) {\r\n          e.altKey ? removeCube(x, y, z) : addCube(x, y + 1, z);\r\n          return;\r\n        }\r\n        if (clickedFace === 3) {\r\n          e.altKey ? removeCube(x, y, z) : addCube(x, y - 1, z);\r\n          return;\r\n        }\r\n        if (clickedFace === 4) {\r\n          e.altKey ? removeCube(x, y, z) : addCube(x, y, z + 1);\r\n          return;\r\n        }\r\n        if (clickedFace === 5) {\r\n          e.altKey ? removeCube(x, y, z) : addCube(x, y, z - 1);\r\n          return;\r\n        }\r\n      }}\r\n    >\r\n      <boxBufferGeometry attach=\"geometry\" />{' '}\r\n      <meshStandardMaterial\r\n        attach=\"material\"\r\n        map={textures[texture]}\r\n        color={hover != null ? 'gray' : color}\r\n        opacity={texture === 'glass' ? 0.7 : 1}\r\n        transparent={true}\r\n      />\r\n    </mesh>\r\n  );\r\n};\r\n\r\nfunction equalProps(prevProps, nextProps) {\r\n  const equalPosition =\r\n    prevProps.position.x === nextProps.position.x &&\r\n    prevProps.position.y === nextProps.position.y &&\r\n    prevProps.position.z === nextProps.position.z;\r\n\r\n  return equalPosition && prevProps.texture === nextProps.texture;\r\n}\r\n\r\nexport default memo(Cube, equalProps);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}