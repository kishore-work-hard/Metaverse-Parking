{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useStore } from './useStore';\n\nfunction actionByKey(key) {\n  const keys = {\n    KeyW: 'moveForward',\n    KeyS: 'moveBackward',\n    KeyA: 'moveLeft',\n    KeyD: 'moveRight',\n    Space: 'jump'\n  };\n  return keys[key];\n}\n\nfunction textureByKey(key) {\n  const keys = {\n    Digit1: 'dirt',\n    Digit2: 'grass',\n    Digit3: 'glass',\n    Digit4: 'wood',\n    Digit5: 'log'\n  };\n  return keys[key];\n}\n\nexport const useKeyboardControls = () => {\n  _s();\n\n  const [movement, setMovement] = useState({\n    moveForward: false,\n    moveBackward: false,\n    moveLeft: false,\n    moveRight: false,\n    jump: false\n  });\n  const [setTexture] = useStore(state => [state.setTexture]);\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Movement key\n      if (actionByKey(e.code)) {\n        setMovement(state => ({ ...state,\n          [actionByKey(e.code)]: true\n        }));\n      } // Change texture key\n\n\n      if (textureByKey(e.code)) {\n        setTexture(textureByKey(e.code));\n      }\n    };\n\n    const handleKeyUp = e => {\n      if (actionByKey(e.code)) {\n        setMovement(state => ({ ...state,\n          [actionByKey(e.code)]: false\n        }));\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('keyup', handleKeyUp);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [setTexture]);\n  return movement;\n};\n\n_s(useKeyboardControls, \"0zSUrAYurEain3Cqm6M6ERUFqwM=\", false, function () {\n  return [useStore];\n});","map":{"version":3,"names":["useState","useEffect","useStore","actionByKey","key","keys","KeyW","KeyS","KeyA","KeyD","Space","textureByKey","Digit1","Digit2","Digit3","Digit4","Digit5","useKeyboardControls","movement","setMovement","moveForward","moveBackward","moveLeft","moveRight","jump","setTexture","state","handleKeyDown","e","code","handleKeyUp","document","addEventListener","removeEventListener"],"sources":["F:/elvicto/REPO/meta-dev/minecraft-react/src/hooks/useKeyboardControls.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useStore } from './useStore';\r\n\r\nfunction actionByKey(key) {\r\n  const keys = {\r\n    KeyW: 'moveForward',\r\n    KeyS: 'moveBackward',\r\n    KeyA: 'moveLeft',\r\n    KeyD: 'moveRight',\r\n    Space: 'jump',\r\n  };\r\n  return keys[key];\r\n}\r\n\r\nfunction textureByKey(key) {\r\n  const keys = {\r\n    Digit1: 'dirt',\r\n    Digit2: 'grass',\r\n    Digit3: 'glass',\r\n    Digit4: 'wood',\r\n    Digit5: 'log',\r\n  };\r\n  return keys[key];\r\n}\r\nexport const useKeyboardControls = () => {\r\n  const [movement, setMovement] = useState({\r\n    moveForward: false,\r\n    moveBackward: false,\r\n    moveLeft: false,\r\n    moveRight: false,\r\n    jump: false,\r\n  });\r\n  const [setTexture] = useStore((state) => [state.setTexture]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Movement key\r\n      if (actionByKey(e.code)) {\r\n        setMovement((state) => ({\r\n          ...state,\r\n          [actionByKey(e.code)]: true,\r\n        }));\r\n      }\r\n      // Change texture key\r\n      if (textureByKey(e.code)) {\r\n        setTexture(textureByKey(e.code));\r\n      }\r\n    };\r\n    const handleKeyUp = (e) => {\r\n      if (actionByKey(e.code)) {\r\n        setMovement((state) => ({\r\n          ...state,\r\n          [actionByKey(e.code)]: false,\r\n        }));\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    document.addEventListener('keyup', handleKeyUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n      document.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, [setTexture]);\r\n\r\n  return movement;\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,YAAzB;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;EACxB,MAAMC,IAAI,GAAG;IACXC,IAAI,EAAE,aADK;IAEXC,IAAI,EAAE,cAFK;IAGXC,IAAI,EAAE,UAHK;IAIXC,IAAI,EAAE,WAJK;IAKXC,KAAK,EAAE;EALI,CAAb;EAOA,OAAOL,IAAI,CAACD,GAAD,CAAX;AACD;;AAED,SAASO,YAAT,CAAsBP,GAAtB,EAA2B;EACzB,MAAMC,IAAI,GAAG;IACXO,MAAM,EAAE,MADG;IAEXC,MAAM,EAAE,OAFG;IAGXC,MAAM,EAAE,OAHG;IAIXC,MAAM,EAAE,MAJG;IAKXC,MAAM,EAAE;EALG,CAAb;EAOA,OAAOX,IAAI,CAACD,GAAD,CAAX;AACD;;AACD,OAAO,MAAMa,mBAAmB,GAAG,MAAM;EAAA;;EACvC,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC;IACvCoB,WAAW,EAAE,KAD0B;IAEvCC,YAAY,EAAE,KAFyB;IAGvCC,QAAQ,EAAE,KAH6B;IAIvCC,SAAS,EAAE,KAJ4B;IAKvCC,IAAI,EAAE;EALiC,CAAD,CAAxC;EAOA,MAAM,CAACC,UAAD,IAAevB,QAAQ,CAAEwB,KAAD,IAAW,CAACA,KAAK,CAACD,UAAP,CAAZ,CAA7B;EAEAxB,SAAS,CAAC,MAAM;IACd,MAAM0B,aAAa,GAAIC,CAAD,IAAO;MAC3B;MACA,IAAIzB,WAAW,CAACyB,CAAC,CAACC,IAAH,CAAf,EAAyB;QACvBV,WAAW,CAAEO,KAAD,KAAY,EACtB,GAAGA,KADmB;UAEtB,CAACvB,WAAW,CAACyB,CAAC,CAACC,IAAH,CAAZ,GAAuB;QAFD,CAAZ,CAAD,CAAX;MAID,CAP0B,CAQ3B;;;MACA,IAAIlB,YAAY,CAACiB,CAAC,CAACC,IAAH,CAAhB,EAA0B;QACxBJ,UAAU,CAACd,YAAY,CAACiB,CAAC,CAACC,IAAH,CAAb,CAAV;MACD;IACF,CAZD;;IAaA,MAAMC,WAAW,GAAIF,CAAD,IAAO;MACzB,IAAIzB,WAAW,CAACyB,CAAC,CAACC,IAAH,CAAf,EAAyB;QACvBV,WAAW,CAAEO,KAAD,KAAY,EACtB,GAAGA,KADmB;UAEtB,CAACvB,WAAW,CAACyB,CAAC,CAACC,IAAH,CAAZ,GAAuB;QAFD,CAAZ,CAAD,CAAX;MAID;IACF,CAPD;;IASAE,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCL,aAArC;IACAI,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCF,WAAnC;IAEA,OAAO,MAAM;MACXC,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCN,aAAxC;MACAI,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCH,WAAtC;IACD,CAHD;EAID,CA9BQ,EA8BN,CAACL,UAAD,CA9BM,CAAT;EAgCA,OAAOP,QAAP;AACD,CA3CM;;GAAMD,mB;UAQUf,Q"},"metadata":{},"sourceType":"module"}